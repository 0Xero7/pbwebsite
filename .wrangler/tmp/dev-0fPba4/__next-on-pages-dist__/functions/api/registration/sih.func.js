import{__getNamedExports as B}from"../../../../__next-on-pages-dist__/webpack/25a16522fb235c0735fe6b4fe3980f9a.js";import{__getNamedExports as U}from"../../../../__next-on-pages-dist__/webpack/af398877f9a6427e3929fb2fd8575b0d.js";import{__getNamedExports as X}from"../../../../__next-on-pages-dist__/webpack/96470a2dcf269adff415c960aedeb8b3.js";import{__getNamedExports as W}from"../../../../__next-on-pages-dist__/webpack/e78be6bebf4202291a46e0b445f26029.js";import{__getNamedExports as G}from"../../../../__next-on-pages-dist__/manifest/27d10e462fba646daaa29468a0656e12.js";var m=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/registration/sih"),P=B(m,m,m),Y=P.__chunk_2027,q=P.__chunk_1617,V=P.__chunk_4705,T=U(m,m,m),J=T.__chunk_4822,Q=T.__chunk_2611,z=T.__chunk_1085,Z=T.__chunk_5283,ee=T.__chunk_919,_e=T.__chunk_3369,te=T.__chunk_9122,ne=T.__chunk_2338,re=T.__chunk_1511,u=X(m,m,m),oe=u.__chunk_6195,ae=u.__chunk_2067,ce=u.__chunk_1548,se=u.__chunk_2780,ue=u.__chunk_5612,ie=u.__chunk_9614,he=u.__chunk_7398,pe=u.__chunk_5027,de=u.__chunk_2738,ke=u.__chunk_2113,le=u.__chunk_2860,ge=u.__chunk_8427,me=u.__chunk_8997,fe=u.__chunk_8024,ye=u.__chunk_2403,xe=u.__chunk_6087,Ee=u.__chunk_6265,Ne=u.__chunk_8610,ve=u.__chunk_7959,Re=u.__chunk_4303,be=u.__chunk_3326,Te=u.__chunk_391,we=u.__chunk_8789,Oe=u.__chunk_5597,c=W(m,m,m),Ae=c.__chunk_5536,Ce=c.__chunk_8536,Ie=c.__chunk_6765,Se=c.__chunk_9814,Pe=c.__chunk_9859,Me=c.__chunk_9307,$e=c.__chunk_74,je=c.__chunk_4123,Fe=c.__chunk_3412,Le=c.__chunk_8978,Ke=c.__chunk_1812,De=c.__chunk_2930,He=c.__chunk_5376,Be=c.__chunk_6617,Ue=c.__chunk_5767,Xe=c.__chunk_8260,We=c.__chunk_641,Ge=c.__chunk_5514,Ye=c.__chunk_5257,qe=c.__chunk_8690,Ve=c.__chunk_5492,Je=c.__chunk_3059,Qe=c.__chunk_552,ze=c.__chunk_7649,Ze=c.__chunk_2501,e_=c.__chunk_4873,__=c.__chunk_1616,t_=c.__chunk_2034,n_=c.__chunk_2328,M=G(m,m,m),r_=M.__NEXT_FONT_MANIFEST,o_=M.__REACT_LOADABLE_MANIFEST,a_=M.__BUILD_MANIFEST,d_=((f,O,c_)=>(O._ENTRIES={},f.__BUILD_MANIFEST=a_,f.__REACT_LOADABLE_MANIFEST=o_,f.__NEXT_FONT_MANIFEST=r_,f.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",f.__PRERENDER_MANIFEST='{"version":4,"routes":{"/members":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/(default)/layout,_N_T_/(default)/members/layout,_N_T_/(default)/members/page,_N_T_/members"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/members","dataRoute":"/members.rsc"},"/achievements":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/(default)/layout,_N_T_/(default)/achievements/layout,_N_T_/(default)/achievements/page,_N_T_/achievements"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/achievements","dataRoute":"/achievements.rsc"},"/events":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/(default)/layout,_N_T_/(default)/events/layout,_N_T_/(default)/events/page,_N_T_/events"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/events","dataRoute":"/events.rsc"},"/leads":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/(default)/layout,_N_T_/(default)/leads/layout,_N_T_/(default)/leads/page,_N_T_/leads"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/leads","dataRoute":"/leads.rsc"}},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"process.env.__NEXT_PREVIEW_MODE_ID","previewModeSigningKey":"process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY","previewModeEncryptionKey":"process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY"}}',(()=>{"use strict";var E={},R={};function t(_){var a=R[_];if(a!==void 0)return a.exports;var n=R[_]={exports:{}},i=!0;try{E[_].call(n.exports,n,n.exports,t),i=!1}finally{i&&delete R[_]}return n.exports}t.m=E,t.amdO={},(()=>{var _=[];t.O=(a,n,i,d)=>{if(n){d=d||0;for(var s=_.length;s>0&&_[s-1][2]>d;s--)_[s]=_[s-1];_[s]=[n,i,d];return}for(var h=1/0,s=0;s<_.length;s++){for(var[n,i,d]=_[s],k=!0,l=0;l<n.length;l++)h>=d&&Object.keys(t.O).every(x=>t.O[x](n[l]))?n.splice(l--,1):(k=!1,d<h&&(h=d));if(k){_.splice(s--,1);var p=i();p!==void 0&&(a=p)}}return a}})(),t.n=_=>{var a=_&&_.__esModule?()=>_.default:()=>_;return t.d(a,{a}),a},(()=>{var _,a=Object.getPrototypeOf?n=>Object.getPrototypeOf(n):n=>n.__proto__;t.t=function(n,i){if(1&i&&(n=this(n)),8&i||typeof n=="object"&&n&&(4&i&&n.__esModule||16&i&&typeof n.then=="function"))return n;var d=Object.create(null);t.r(d);var s={};_=_||[null,a({}),a([]),a(a)];for(var h=2&i&&n;typeof h=="object"&&!~_.indexOf(h);h=a(h))Object.getOwnPropertyNames(h).forEach(k=>s[k]=()=>n[k]);return s.default=()=>n,t.d(d,s),d}})(),t.d=(_,a)=>{for(var n in a)t.o(a,n)&&!t.o(_,n)&&Object.defineProperty(_,n,{enumerable:!0,get:a[n]})},t.e=()=>Promise.resolve(),t.g=function(){if(typeof O=="object")return O;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),t.o=(_,a)=>Object.prototype.hasOwnProperty.call(_,a),t.r=_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},(()=>{var _={86:0};t.O.j=i=>_[i]===0;var a=(i,d)=>{var s,h,[k,l,p]=d,e=0;if(k.some(r=>_[r]!==0)){for(s in l)t.o(l,s)&&(t.m[s]=l[s]);if(p)var g=p(t)}for(i&&i(d);e<k.length;e++)h=k[e],t.o(_,h)&&_[h]&&_[h][0](),_[h]=0;return t.O(g)},n=f.webpackChunk_N_E=f.webpackChunk_N_E||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))})()})(),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[587],{5597:Oe,8789:we,391:Te,3326:be,4303:Re,7959:ve,8610:Ne,6265:Ee,6087:xe,2403:ye,8024:fe,8997:me,8427:ge,2860:le,2113:ke,2738:de,5027:pe,7398:he,9614:ie,5612:ue,2780:se,1548:ce}]),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[517],{2328:n_,2034:t_,1616:__,4873:e_,2501:Ze,7649:ze,552:Qe,3059:Je,5492:Ve,8690:qe,5257:Ye,5514:Ge,641:We,8260:Xe,5767:Ue,6617:Be,5376:He,2930:De,1812:Ke,8978:Le,3412:Fe,4123:je,74:$e,9307:Me,9859:Pe,9814:Se,6765:Ie,8536:Ce,5536:Ae}]),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[975],{1511:re,2338:ne,9122:te,3369:_e,919:ee,5283:Z,1085:z,2611:Q}]),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[174],{4705:V,1617:q}]),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[11],{2067:ae,6195:oe,737:(E,R,t)=>{"use strict";t.r(R),t.d(R,{ComponentMod:()=>N,default:()=>v});var _={};t.r(_),t.d(_,{POST:()=>g,runtime:()=>e});var a={};t.r(a),t.d(a,{originalPathname:()=>b,patchFetch:()=>w,requestAsyncStorage:()=>o,routeModule:()=>r,serverHooks:()=>y,staticGenerationAsyncStorage:()=>x});var n=t(8260),i=t(5514),d=t(2860),s=t(2113),h=t(4822),k=t(2027),l=t(1085),p=t(5492);let e="edge";async function g(A){let $=await A.json(),{recaptcha_token:j,...I}=$;console.log($);let{team_info:{team_leader:{email:L}}}=I,K=(0,l.IO)((0,l.hJ)(h.db,"sih2024"),(0,l.ar)("team_info.team_leader.email","==",L)),F=await(0,l.PL)(K);if(console.log(!F.empty),!F.empty)return p.xk.json({message:"Email is already registered!",error:"Email is already registered!"},{status:500});if(!j)return p.xk.json({message:"reCAPTCHA token not found! Refresh and try again",error:"reCAPTCHA token not found!"},{status:500});let D=process.env.RECAPTCHA_SECRET_KEY,H=await fetch(`https://www.google.com/recaptcha/api/siteverify?secret=${D}&response=${j}`,{method:"POST"}),S=await H.json();if(console.log(S),!S.success)return p.xk.json({message:"reCAPTCHA validation failed",error:S["error-codes"]},{status:500});(0,k.Q)(I);try{let C=await(0,l.ET)((0,l.hJ)(h.db,"sih2024"),I);console.log("Document written with ID: ",C.id)}catch(C){return console.error(C),p.xk.json({message:"An error occurred",error:C})}return p.xk.json({message:"Registration successful"})}let r=new i.AppRouteRouteModule({definition:{kind:d.x.APP_ROUTE,page:"/(default)/api/registration/sih/route",pathname:"/api/registration/sih",filename:"route",bundlePath:"app/(default)/api/registration/sih/route"},resolvedPagePath:"/home/soumya/pbwebsite/app/(default)/api/registration/sih/route.ts",nextConfigOutput:"",userland:_}),{requestAsyncStorage:o,staticGenerationAsyncStorage:x,serverHooks:y}=r,b="/(default)/api/registration/sih/route";function w(){return(0,s.XH)({serverHooks:y,staticGenerationAsyncStorage:x})}let N=a,v=n.a.wrap(r)},4822:J,2027:Y},E=>{var R=_=>E(E.s=_);E.O(0,[587,517,975,174],()=>R(737));var t=E.O();(O._ENTRIES=typeof O._ENTRIES>"u"?{}:O._ENTRIES)["middleware_app/(default)/api/registration/sih/route"]=t}]),function(){let E={exports:{},loaded:!1};return function(t,_){var a=Object.defineProperty,n=e=>a(e,"__esModule",{value:!0}),i=(e,g)=>{n(e);for(var r in g)a(e,r,{get:g[r],enumerable:!0})};i(_,{default:()=>h});function d(e){let g={};return e&&e.forEach((r,o)=>{g[o]=r,o.toLowerCase()==="set-cookie"&&(g[o]=s(r))}),g}function s(e){let g=[],r=0,o,x,y,b,w;function N(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function v(){return x=e.charAt(r),x!=="="&&x!==";"&&x!==","}for(;r<e.length;){for(o=r,w=!1;N();)if(x=e.charAt(r),x===","){for(y=r,r+=1,N(),b=r;r<e.length&&v();)r+=1;r<e.length&&e.charAt(r)==="="?(w=!0,r=b,g.push(e.substring(o,y)),o=r):r=y+1}else r+=1;(!w||r>=e.length)&&g.push(e.substring(o,e.length))}return g}function h(e){let g=e.staticRoutes.map(o=>({regexp:new RegExp(o.namedRegex),page:o.page})),r=e.dynamicRoutes?.map(o=>({regexp:new RegExp(o.namedRegex),page:o.page}))||[];return async function(o,x){let y=new URL(o.url).pathname,b={};if(e.nextConfig?.basePath&&y.startsWith(e.nextConfig.basePath)&&(y=y.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let N of e.nextConfig.i18n.locales){let v=new RegExp(`^/${N}($|/)`,"i");if(y.match(v)){y=y.replace(v,"/")||"/";break}}for(let N of g)if(N.regexp.exec(y)){b.name=N.page;break}if(!b.name){let N=l(y);for(let v of r||[]){if(N&&!l(v.page))continue;let A=v.regexp.exec(y);if(A){b={name:v.page,params:A.groups};break}}}let w=await O._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:o.url,method:o.method,headers:d(o.headers),ip:k(o.headers,p.Ip),geo:{city:k(o.headers,p.City,!0),country:k(o.headers,p.Country,!0),latitude:k(o.headers,p.Latitude),longitude:k(o.headers,p.Longitude),region:k(o.headers,p.Region,!0)},nextConfig:e.nextConfig,page:b,body:o.body}});return x.waitUntil(w.waitUntil),w.response}}function k(e,g,r=!1){let o=e.get(g)||void 0;return r&&o?decodeURIComponent(o):o}function l(e){return e==="/api"||e.startsWith("/api/")}var p;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(p||(p={}))}(E,E.exports),E.exports}.call({}).default({name:"app/(default)/api/registration/sih/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/achievements",regex:"^/achievements(?:/)?$",routeKeys:{},namedRegex:"^/achievements(?:/)?$"},{page:"/events",regex:"^/events(?:/)?$",routeKeys:{},namedRegex:"^/events(?:/)?$"},{page:"/leads",regex:"^/leads(?:/)?$",routeKeys:{},namedRegex:"^/leads(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"},{page:"/members",regex:"^/members(?:/)?$",routeKeys:{},namedRegex:"^/members(?:/)?$"},{page:"/pbctf",regex:"^/pbctf(?:/)?$",routeKeys:{},namedRegex:"^/pbctf(?:/)?$"},{page:"/recruitment",regex:"^/recruitment(?:/)?$",routeKeys:{},namedRegex:"^/recruitment(?:/)?$"},{page:"/sihregistration",regex:"^/sihregistration(?:/)?$",routeKeys:{},namedRegex:"^/sihregistration(?:/)?$"}],dynamicRoutes:[],nextConfig:{basePath:""}})))(m,m,m);export{d_ as default};
