import{__getNamedExports as ee}from"../../../__next-on-pages-dist__/webpack/af398877f9a6427e3929fb2fd8575b0d.js";import{__getNamedExports as te}from"../../../__next-on-pages-dist__/webpack/96470a2dcf269adff415c960aedeb8b3.js";import{__getNamedExports as ne}from"../../../__next-on-pages-dist__/webpack/e78be6bebf4202291a46e0b445f26029.js";import{__getNamedExports as _e}from"../../../__next-on-pages-dist__/manifest/27d10e462fba646daaa29468a0656e12.js";var x=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/membersData"),I=ee(x,x,x),re=I.__chunk_4822,ae=I.__chunk_2611,oe=I.__chunk_1085,se=I.__chunk_5283,ce=I.__chunk_919,ue=I.__chunk_3369,ie=I.__chunk_9122,he=I.__chunk_2338,le=I.__chunk_1511,d=te(x,x,x),de=d.__chunk_6195,me=d.__chunk_2067,pe=d.__chunk_1548,ke=d.__chunk_2780,ge=d.__chunk_5612,fe=d.__chunk_9614,ye=d.__chunk_7398,xe=d.__chunk_5027,be=d.__chunk_2738,Ee=d.__chunk_2113,ve=d.__chunk_2860,Ne=d.__chunk_8427,Re=d.__chunk_8997,Te=d.__chunk_8024,we=d.__chunk_2403,Oe=d.__chunk_6087,Ie=d.__chunk_6265,je=d.__chunk_8610,Ae=d.__chunk_7959,Me=d.__chunk_4303,Ue=d.__chunk_3326,Se=d.__chunk_391,Ce=d.__chunk_8789,Pe=d.__chunk_5597,u=ne(x,x,x),$e=u.__chunk_5536,Fe=u.__chunk_8536,De=u.__chunk_6765,Le=u.__chunk_9814,Ke=u.__chunk_9859,He=u.__chunk_9307,Be=u.__chunk_74,We=u.__chunk_4123,Xe=u.__chunk_3412,qe=u.__chunk_8978,Ge=u.__chunk_1812,Je=u.__chunk_2930,Ve=u.__chunk_5376,Ye=u.__chunk_6617,Qe=u.__chunk_5767,ze=u.__chunk_8260,Ze=u.__chunk_641,et=u.__chunk_5514,tt=u.__chunk_5257,nt=u.__chunk_8690,_t=u.__chunk_5492,rt=u.__chunk_3059,at=u.__chunk_552,ot=u.__chunk_7649,st=u.__chunk_2501,ct=u.__chunk_4873,ut=u.__chunk_1616,it=u.__chunk_2034,ht=u.__chunk_2328,X=_e(x,x,x),lt=X.__NEXT_FONT_MANIFEST,dt=X.__REACT_LOADABLE_MANIFEST,mt=X.__BUILD_MANIFEST,xt=((y,A,pt)=>(A._ENTRIES={},y.__BUILD_MANIFEST=mt,y.__REACT_LOADABLE_MANIFEST=dt,y.__NEXT_FONT_MANIFEST=lt,y.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",y.__PRERENDER_MANIFEST='{"version":4,"routes":{"/members":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/(default)/layout,_N_T_/(default)/members/layout,_N_T_/(default)/members/page,_N_T_/members"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/members","dataRoute":"/members.rsc"},"/achievements":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/(default)/layout,_N_T_/(default)/achievements/layout,_N_T_/(default)/achievements/page,_N_T_/achievements"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/achievements","dataRoute":"/achievements.rsc"},"/events":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/(default)/layout,_N_T_/(default)/events/layout,_N_T_/(default)/events/page,_N_T_/events"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/events","dataRoute":"/events.rsc"},"/leads":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/(default)/layout,_N_T_/(default)/leads/layout,_N_T_/(default)/leads/page,_N_T_/leads"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/leads","dataRoute":"/leads.rsc"}},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"process.env.__NEXT_PREVIEW_MODE_ID","previewModeSigningKey":"process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY","previewModeEncryptionKey":"process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY"}}',(()=>{"use strict";var b={},T={};function n(t){var s=T[t];if(s!==void 0)return s.exports;var _=T[t]={exports:{}},p=!0;try{b[t].call(_.exports,_,_.exports,n),p=!1}finally{p&&delete T[t]}return _.exports}n.m=b,n.amdO={},(()=>{var t=[];n.O=(s,_,p,k)=>{if(_){k=k||0;for(var l=t.length;l>0&&t[l-1][2]>k;l--)t[l]=t[l-1];t[l]=[_,p,k];return}for(var r=1/0,l=0;l<t.length;l++){for(var[_,p,k]=t[l],i=!0,m=0;m<_.length;m++)r>=k&&Object.keys(n.O).every(E=>n.O[E](_[m]))?_.splice(m--,1):(i=!1,k<r&&(r=k));if(i){t.splice(l--,1);var h=p();h!==void 0&&(s=h)}}return s}})(),n.n=t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return n.d(s,{a:s}),s},(()=>{var t,s=Object.getPrototypeOf?_=>Object.getPrototypeOf(_):_=>_.__proto__;n.t=function(_,p){if(1&p&&(_=this(_)),8&p||typeof _=="object"&&_&&(4&p&&_.__esModule||16&p&&typeof _.then=="function"))return _;var k=Object.create(null);n.r(k);var l={};t=t||[null,s({}),s([]),s(s)];for(var r=2&p&&_;typeof r=="object"&&!~t.indexOf(r);r=s(r))Object.getOwnPropertyNames(r).forEach(i=>l[i]=()=>_[i]);return l.default=()=>_,n.d(k,l),k}})(),n.d=(t,s)=>{for(var _ in s)n.o(s,_)&&!n.o(t,_)&&Object.defineProperty(t,_,{enumerable:!0,get:s[_]})},n.e=()=>Promise.resolve(),n.g=function(){if(typeof A=="object")return A;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(t,s)=>Object.prototype.hasOwnProperty.call(t,s),n.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={86:0};n.O.j=p=>t[p]===0;var s=(p,k)=>{var l,r,[i,m,h]=k,e=0;if(i.some(a=>t[a]!==0)){for(l in m)n.o(m,l)&&(n.m[l]=m[l]);if(h)var g=h(n)}for(p&&p(k);e<i.length;e++)r=i[e],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(g)},_=y.webpackChunk_N_E=y.webpackChunk_N_E||[];_.forEach(s.bind(null,0)),_.push=s.bind(null,_.push.bind(_))})()})(),(y.webpackChunk_N_E=y.webpackChunk_N_E||[]).push([[587],{5597:Pe,8789:Ce,391:Se,3326:Ue,4303:Me,7959:Ae,8610:je,6265:Ie,6087:Oe,2403:we,8024:Te,8997:Re,8427:Ne,2860:ve,2113:Ee,2738:be,5027:xe,7398:ye,9614:fe,5612:ge,2780:ke,1548:pe}]),(y.webpackChunk_N_E=y.webpackChunk_N_E||[]).push([[517],{2328:ht,2034:it,1616:ut,4873:ct,2501:st,7649:ot,552:at,3059:rt,5492:_t,8690:nt,5257:tt,5514:et,641:Ze,8260:ze,5767:Qe,6617:Ye,5376:Ve,2930:Je,1812:Ge,8978:qe,3412:Xe,4123:We,74:Be,9307:He,9859:Ke,9814:Le,6765:De,8536:Fe,5536:$e}]),(y.webpackChunk_N_E=y.webpackChunk_N_E||[]).push([[975],{1511:le,2338:he,9122:ie,3369:ue,919:ce,5283:se,1085:oe,2611:ae}]),(y.webpackChunk_N_E=y.webpackChunk_N_E||[]).push([[475],{2067:me,6195:de,9439:(b,T,n)=>{"use strict";n.r(T),n.d(T,{ComponentMod:()=>G,default:()=>J});var t={};n.r(t),n.d(t,{DELETE:()=>E,GET:()=>g,POST:()=>a,PUT:()=>o,runtime:()=>e});var s={};n.r(s),n.d(s,{originalPathname:()=>R,patchFetch:()=>K,requestAsyncStorage:()=>w,routeModule:()=>f,serverHooks:()=>v,staticGenerationAsyncStorage:()=>O});var _=n(8260),p=n(5514),k=n(2860),l=n(2113),r=n(5492),i=n(4822),m=n(1085),h=n(2611);let e="edge";async function g(){try{let N=(await(0,m.PL)((0,m.hJ)(i.db,"pbMembers"))).docs.map(c=>({id:c.id,...c.data()})).map(c=>({id:c.id,name:c.name,role:c.role,company:c.company||"",year:c.year,linkedInUrl:c.linkedInUrl,imageUrl:c.imageUrl}));return r.xk.json(N)}catch(N){return N instanceof Error?(console.error("Error fetching members:",N.message),r.xk.json({error:"An error occurred while fetching members",details:N.message},{status:500})):(console.error("Unknown error:",N),r.xk.json({error:"An unknown error occurred while fetching members"},{status:500}))}}async function a(N){try{let{name:c,year:j,role:S,company:C,imageUrl:P,linkedInUrl:M}=await N.json();if(!c||!P)return r.xk.json({message:"Missing Name or Image URL.",error:!0},{status:400});let F=await fetch(P);if(!F.ok)return r.xk.json({message:"Failed to fetch image from the URL.",error:!0},{status:400});let U=F.headers.get("content-type");if(!U||!U.startsWith("image/"))return r.xk.json({message:"The provided URL is not a valid image.",error:!0},{status:400});let H=await F.blob(),$=U.split("/")[1],D=(0,h.iH)(i.tO,`members/${c}.${$}`);await(0,h.KV)(D,H,{contentType:U});let B=await(0,h.Jt)(D),L=await(0,m.ET)((0,m.hJ)(i.db,"pbMembers"),{name:c,year:j,role:S,company:C,linkedInUrl:M,imageUrl:B});return r.xk.json({message:"Member added successfully",id:L.id},{status:201})}catch(c){return console.error("Error adding member:",c),r.xk.json({message:`Failed to add member: ${c}`,error:!0},{status:500})}}async function o(N){try{let{id:c,name:j,year:S,role:C,company:P,imageUrl:M,linkedInUrl:F}=await N.json();if(!c||!j)return r.xk.json({message:"Missing required fields or member ID",error:!0},{status:400});let U=(0,m.JU)(i.db,"pbMembers",c),H=await(0,m.QT)(U);if(!H.exists())return r.xk.json({message:"Member not found",error:!0},{status:404});let $=H.data(),D=$.imageUrl;if(M&&M!==$.imageUrl){let L=await fetch(M);if(!L.ok)return r.xk.json({message:"Failed to fetch image from the URL.",error:!0},{status:400});let W=L.headers.get("content-type");if(!W||!W.startsWith("image/"))return r.xk.json({message:"The provided URL is not a valid image.",error:!0},{status:400});let V=await L.blob(),Y=W.split("/")[1],Q=Date.now(),q=(0,h.iH)(i.tO,`members/${j}_${Q}.${Y}`);if(await(0,h.KV)(q,V,{contentType:W}),D=await(0,h.Jt)(q),$.imageUrl){let z=(0,h.iH)(i.tO,$.imageUrl);await(0,h.oq)(z).catch(Z=>{console.error("Error deleting old image:",Z)})}}let B={name:j,year:S,role:C,company:P,linkedInUrl:F,imageUrl:D};return await(0,m.r7)(U,B),r.xk.json({message:"Member updated successfully",data:B},{status:200})}catch(c){return console.error("Error updating member:",c),r.xk.json({message:`Failed to update member: ${c}`,error:!0},{status:500})}}async function E(N){try{let{id:c}=await N.json();if(!c)return r.xk.json({message:"Missing member ID",error:!0},{status:400});let j=(0,m.JU)(i.db,"pbMembers",c),S=await(0,m.QT)(j);if(!S.exists())return r.xk.json({message:"Member not found",error:!0},{status:404});let C=S.data().imageUrl;if(C){let P=(0,h.iH)(i.tO,C);await(0,h.oq)(P).catch(M=>(console.error("Error deleting image from Firebase Storage:",M),r.xk.json({message:"Failed to delete image from storage",error:!0},{status:500})))}return await(0,m.oe)(j),r.xk.json({message:"Member and associated image deleted successfully"},{status:200})}catch(c){return console.error("Error deleting member:",c),r.xk.json({message:"Failed to delete member",error:c},{status:500})}}let f=new p.AppRouteRouteModule({definition:{kind:k.x.APP_ROUTE,page:"/(default)/api/membersData/route",pathname:"/api/membersData",filename:"route",bundlePath:"app/(default)/api/membersData/route"},resolvedPagePath:"/home/soumya/pbwebsite/app/(default)/api/membersData/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:w,staticGenerationAsyncStorage:O,serverHooks:v}=f,R="/(default)/api/membersData/route";function K(){return(0,l.XH)({serverHooks:v,staticGenerationAsyncStorage:O})}let G=s,J=_.a.wrap(f)},4822:re},b=>{var T=t=>b(b.s=t);b.O(0,[587,517,975],()=>T(9439));var n=b.O();(A._ENTRIES=typeof A._ENTRIES>"u"?{}:A._ENTRIES)["middleware_app/(default)/api/membersData/route"]=n}]),function(){let b={exports:{},loaded:!1};return function(n,t){var s=Object.defineProperty,_=e=>s(e,"__esModule",{value:!0}),p=(e,g)=>{_(e);for(var a in g)s(e,a,{get:g[a],enumerable:!0})};p(t,{default:()=>r});function k(e){let g={};return e&&e.forEach((a,o)=>{g[o]=a,o.toLowerCase()==="set-cookie"&&(g[o]=l(a))}),g}function l(e){let g=[],a=0,o,E,f,w,O;function v(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}function R(){return E=e.charAt(a),E!=="="&&E!==";"&&E!==","}for(;a<e.length;){for(o=a,O=!1;v();)if(E=e.charAt(a),E===","){for(f=a,a+=1,v(),w=a;a<e.length&&R();)a+=1;a<e.length&&e.charAt(a)==="="?(O=!0,a=w,g.push(e.substring(o,f)),o=a):a=f+1}else a+=1;(!O||a>=e.length)&&g.push(e.substring(o,e.length))}return g}function r(e){let g=e.staticRoutes.map(o=>({regexp:new RegExp(o.namedRegex),page:o.page})),a=e.dynamicRoutes?.map(o=>({regexp:new RegExp(o.namedRegex),page:o.page}))||[];return async function(o,E){let f=new URL(o.url).pathname,w={};if(e.nextConfig?.basePath&&f.startsWith(e.nextConfig.basePath)&&(f=f.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let v of e.nextConfig.i18n.locales){let R=new RegExp(`^/${v}($|/)`,"i");if(f.match(R)){f=f.replace(R,"/")||"/";break}}for(let v of g)if(v.regexp.exec(f)){w.name=v.page;break}if(!w.name){let v=m(f);for(let R of a||[]){if(v&&!m(R.page))continue;let K=R.regexp.exec(f);if(K){w={name:R.page,params:K.groups};break}}}let O=await A._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:o.url,method:o.method,headers:k(o.headers),ip:i(o.headers,h.Ip),geo:{city:i(o.headers,h.City,!0),country:i(o.headers,h.Country,!0),latitude:i(o.headers,h.Latitude),longitude:i(o.headers,h.Longitude),region:i(o.headers,h.Region,!0)},nextConfig:e.nextConfig,page:w,body:o.body}});return E.waitUntil(O.waitUntil),O.response}}function i(e,g,a=!1){let o=e.get(g)||void 0;return a&&o?decodeURIComponent(o):o}function m(e){return e==="/api"||e.startsWith("/api/")}var h;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(h||(h={}))}(b,b.exports),b.exports}.call({}).default({name:"app/(default)/api/membersData/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/achievements",regex:"^/achievements(?:/)?$",routeKeys:{},namedRegex:"^/achievements(?:/)?$"},{page:"/events",regex:"^/events(?:/)?$",routeKeys:{},namedRegex:"^/events(?:/)?$"},{page:"/leads",regex:"^/leads(?:/)?$",routeKeys:{},namedRegex:"^/leads(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"},{page:"/members",regex:"^/members(?:/)?$",routeKeys:{},namedRegex:"^/members(?:/)?$"},{page:"/pbctf",regex:"^/pbctf(?:/)?$",routeKeys:{},namedRegex:"^/pbctf(?:/)?$"},{page:"/recruitment",regex:"^/recruitment(?:/)?$",routeKeys:{},namedRegex:"^/recruitment(?:/)?$"},{page:"/sihregistration",regex:"^/sihregistration(?:/)?$",routeKeys:{},namedRegex:"^/sihregistration(?:/)?$"}],dynamicRoutes:[],nextConfig:{basePath:""}})))(x,x,x);export{xt as default};
