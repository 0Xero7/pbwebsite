import{__getNamedExports as V}from"../../../../__next-on-pages-dist__/webpack/25a16522fb235c0735fe6b4fe3980f9a.js";import{__getNamedExports as q}from"../../../../__next-on-pages-dist__/webpack/af398877f9a6427e3929fb2fd8575b0d.js";import{__getNamedExports as z}from"../../../../__next-on-pages-dist__/webpack/96470a2dcf269adff415c960aedeb8b3.js";import{__getNamedExports as Q}from"../../../../__next-on-pages-dist__/webpack/e78be6bebf4202291a46e0b445f26029.js";import{__getNamedExports as Z}from"../../../../__next-on-pages-dist__/manifest/27d10e462fba646daaa29468a0656e12.js";var m=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/registration/recruitment"),P=V(m,m,m),ee=P.__chunk_2027,te=P.__chunk_1617,_e=P.__chunk_4705,T=q(m,m,m),ne=T.__chunk_4822,re=T.__chunk_2611,oe=T.__chunk_1085,ae=T.__chunk_5283,ce=T.__chunk_919,se=T.__chunk_3369,ue=T.__chunk_9122,ie=T.__chunk_2338,he=T.__chunk_1511,i=z(m,m,m),pe=i.__chunk_6195,de=i.__chunk_2067,le=i.__chunk_1548,ke=i.__chunk_2780,ge=i.__chunk_5612,me=i.__chunk_9614,fe=i.__chunk_7398,ye=i.__chunk_5027,xe=i.__chunk_2738,Ee=i.__chunk_2113,Ne=i.__chunk_2860,ve=i.__chunk_8427,Re=i.__chunk_8997,be=i.__chunk_8024,Te=i.__chunk_2403,Ae=i.__chunk_6087,Ce=i.__chunk_6265,Oe=i.__chunk_8610,we=i.__chunk_7959,Ie=i.__chunk_4303,Pe=i.__chunk_3326,Se=i.__chunk_391,je=i.__chunk_8789,Me=i.__chunk_5597,c=Q(m,m,m),$e=c.__chunk_5536,Fe=c.__chunk_8536,Le=c.__chunk_6765,Ke=c.__chunk_9814,He=c.__chunk_9859,De=c.__chunk_9307,Be=c.__chunk_74,Ue=c.__chunk_4123,We=c.__chunk_3412,Xe=c.__chunk_8978,Je=c.__chunk_1812,Ge=c.__chunk_2930,Ye=c.__chunk_5376,Ve=c.__chunk_6617,qe=c.__chunk_5767,ze=c.__chunk_8260,Qe=c.__chunk_641,Ze=c.__chunk_5514,et=c.__chunk_5257,tt=c.__chunk_8690,_t=c.__chunk_5492,nt=c.__chunk_3059,rt=c.__chunk_552,ot=c.__chunk_7649,at=c.__chunk_2501,ct=c.__chunk_4873,st=c.__chunk_1616,ut=c.__chunk_2034,it=c.__chunk_2328,S=Z(m,m,m),ht=S.__NEXT_FONT_MANIFEST,pt=S.__REACT_LOADABLE_MANIFEST,dt=S.__BUILD_MANIFEST,xt=((f,C,lt)=>(C._ENTRIES={},f.__BUILD_MANIFEST=dt,f.__REACT_LOADABLE_MANIFEST=pt,f.__NEXT_FONT_MANIFEST=ht,f.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",f.__PRERENDER_MANIFEST='{"version":4,"routes":{"/members":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/(default)/layout,_N_T_/(default)/members/layout,_N_T_/(default)/members/page,_N_T_/members"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/members","dataRoute":"/members.rsc"},"/achievements":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/(default)/layout,_N_T_/(default)/achievements/layout,_N_T_/(default)/achievements/page,_N_T_/achievements"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/achievements","dataRoute":"/achievements.rsc"},"/events":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/(default)/layout,_N_T_/(default)/events/layout,_N_T_/(default)/events/page,_N_T_/events"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/events","dataRoute":"/events.rsc"},"/leads":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/(default)/layout,_N_T_/(default)/leads/layout,_N_T_/(default)/leads/page,_N_T_/leads"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/leads","dataRoute":"/leads.rsc"}},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"process.env.__NEXT_PREVIEW_MODE_ID","previewModeSigningKey":"process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY","previewModeEncryptionKey":"process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY"}}',(()=>{"use strict";var E={},R={};function _(t){var a=R[t];if(a!==void 0)return a.exports;var n=R[t]={exports:{}},d=!0;try{E[t].call(n.exports,n,n.exports,_),d=!1}finally{d&&delete R[t]}return n.exports}_.m=E,_.amdO={},(()=>{var t=[];_.O=(a,n,d,l)=>{if(n){l=l||0;for(var u=t.length;u>0&&t[u-1][2]>l;u--)t[u]=t[u-1];t[u]=[n,d,l];return}for(var p=1/0,u=0;u<t.length;u++){for(var[n,d,l]=t[u],k=!0,s=0;s<n.length;s++)p>=l&&Object.keys(_.O).every(x=>_.O[x](n[s]))?n.splice(s--,1):(k=!1,l<p&&(p=l));if(k){t.splice(u--,1);var h=d();h!==void 0&&(a=h)}}return a}})(),_.n=t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return _.d(a,{a}),a},(()=>{var t,a=Object.getPrototypeOf?n=>Object.getPrototypeOf(n):n=>n.__proto__;_.t=function(n,d){if(1&d&&(n=this(n)),8&d||typeof n=="object"&&n&&(4&d&&n.__esModule||16&d&&typeof n.then=="function"))return n;var l=Object.create(null);_.r(l);var u={};t=t||[null,a({}),a([]),a(a)];for(var p=2&d&&n;typeof p=="object"&&!~t.indexOf(p);p=a(p))Object.getOwnPropertyNames(p).forEach(k=>u[k]=()=>n[k]);return u.default=()=>n,_.d(l,u),l}})(),_.d=(t,a)=>{for(var n in a)_.o(a,n)&&!_.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},_.e=()=>Promise.resolve(),_.g=function(){if(typeof C=="object")return C;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),_.o=(t,a)=>Object.prototype.hasOwnProperty.call(t,a),_.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={86:0};_.O.j=d=>t[d]===0;var a=(d,l)=>{var u,p,[k,s,h]=l,e=0;if(k.some(r=>t[r]!==0)){for(u in s)_.o(s,u)&&(_.m[u]=s[u]);if(h)var g=h(_)}for(d&&d(l);e<k.length;e++)p=k[e],_.o(t,p)&&t[p]&&t[p][0](),t[p]=0;return _.O(g)},n=f.webpackChunk_N_E=f.webpackChunk_N_E||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))})()})(),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[587],{5597:Me,8789:je,391:Se,3326:Pe,4303:Ie,7959:we,8610:Oe,6265:Ce,6087:Ae,2403:Te,8024:be,8997:Re,8427:ve,2860:Ne,2113:Ee,2738:xe,5027:ye,7398:fe,9614:me,5612:ge,2780:ke,1548:le}]),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[517],{2328:it,2034:ut,1616:st,4873:ct,2501:at,7649:ot,552:rt,3059:nt,5492:_t,8690:tt,5257:et,5514:Ze,641:Qe,8260:ze,5767:qe,6617:Ve,5376:Ye,2930:Ge,1812:Je,8978:Xe,3412:We,4123:Ue,74:Be,9307:De,9859:He,9814:Ke,6765:Le,8536:Fe,5536:$e}]),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[975],{1511:he,2338:ie,9122:ue,3369:se,919:ce,5283:ae,1085:oe,2611:re}]),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[174],{4705:_e,1617:te}]),(f.webpackChunk_N_E=f.webpackChunk_N_E||[]).push([[138],{2067:de,6195:pe,9361:(E,R,_)=>{"use strict";_.r(R),_.d(R,{ComponentMod:()=>N,default:()=>v});var t={};_.r(t),_.d(t,{POST:()=>g,runtime:()=>e});var a={};_.r(a),_.d(a,{originalPathname:()=>b,patchFetch:()=>A,requestAsyncStorage:()=>o,routeModule:()=>r,serverHooks:()=>y,staticGenerationAsyncStorage:()=>x});var n=_(8260),d=_(5514),l=_(2860),u=_(2113),p=_(4822),k=_(2027),s=_(1085),h=_(5492);let e="edge";async function g(O){let j=await O.json(),{recaptcha_token:M,...$}=j,{email:K,whatsapp_number:H,college_id:D}=j,B=(0,s.IO)((0,s.hJ)(p.db,"recruitment2024"),(0,s.ar)("email","==",K)),U=(0,s.IO)((0,s.hJ)(p.db,"recruitment2024"),(0,s.ar)("whatsapp_number","==",H)),W=(0,s.IO)((0,s.hJ)(p.db,"recruitment2024"),(0,s.ar)("college_id","==",D)),[F,X,J]=await Promise.all([(0,s.PL)(B),(0,s.PL)(U),(0,s.PL)(W)]);if(console.log(!F.empty),!F.empty)return h.xk.json({message:"Email is already registered!",error:"Email is already registered!"},{status:500});if(!X.empty)return h.xk.json({message:"Whatsapp No. is already registered!",error:"Whatsapp No. is already registered!"},{status:500});if(!J.empty)return h.xk.json({message:"College Id is already registered!",error:"College Id is already registered!"},{status:500});let G={event:{token:M,siteKey:process.env.NEXT_PUBLIC_RECAPTCHA_SITE_KEY}};if(!M)return h.xk.json({message:"reCAPTCHA token not found! Try again",error:"reCAPTCHA token not found!"},{status:500});let Y=await fetch(`https://recaptchaenterprise.googleapis.com/v1/projects/${process.env.RECAPTCHA_PROJECT}/assessments?key=${process.env.RECAPTCHA_API_KEY}`,{method:"POST",body:JSON.stringify(G)}),I=await Y.json();if(console.log(I.riskAnalysis.score),I.riskAnalysis.score<.7)return h.xk.json({message:"reCAPTCHA validation failed",error:I["error-codes"]});let L=(0,k.F)($);if(L.error)return h.xk.json({message:"Validation error",error:L.error},{status:500});try{let w=await(0,s.ET)((0,s.hJ)(p.db,"recruitment2024"),$);console.log("Document written with ID: ",w.id)}catch(w){return console.error(w),h.xk.json({message:"An error occurred",error:w},{status:500})}return h.xk.json({message:"Registration successful"})}let r=new d.AppRouteRouteModule({definition:{kind:l.x.APP_ROUTE,page:"/(default)/api/registration/recruitment/route",pathname:"/api/registration/recruitment",filename:"route",bundlePath:"app/(default)/api/registration/recruitment/route"},resolvedPagePath:"/home/soumya/pbwebsite/app/(default)/api/registration/recruitment/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:o,staticGenerationAsyncStorage:x,serverHooks:y}=r,b="/(default)/api/registration/recruitment/route";function A(){return(0,u.XH)({serverHooks:y,staticGenerationAsyncStorage:x})}let N=a,v=n.a.wrap(r)},4822:ne,2027:ee},E=>{var R=t=>E(E.s=t);E.O(0,[587,517,975,174],()=>R(9361));var _=E.O();(C._ENTRIES=typeof C._ENTRIES>"u"?{}:C._ENTRIES)["middleware_app/(default)/api/registration/recruitment/route"]=_}]),function(){let E={exports:{},loaded:!1};return function(_,t){var a=Object.defineProperty,n=e=>a(e,"__esModule",{value:!0}),d=(e,g)=>{n(e);for(var r in g)a(e,r,{get:g[r],enumerable:!0})};d(t,{default:()=>p});function l(e){let g={};return e&&e.forEach((r,o)=>{g[o]=r,o.toLowerCase()==="set-cookie"&&(g[o]=u(r))}),g}function u(e){let g=[],r=0,o,x,y,b,A;function N(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function v(){return x=e.charAt(r),x!=="="&&x!==";"&&x!==","}for(;r<e.length;){for(o=r,A=!1;N();)if(x=e.charAt(r),x===","){for(y=r,r+=1,N(),b=r;r<e.length&&v();)r+=1;r<e.length&&e.charAt(r)==="="?(A=!0,r=b,g.push(e.substring(o,y)),o=r):r=y+1}else r+=1;(!A||r>=e.length)&&g.push(e.substring(o,e.length))}return g}function p(e){let g=e.staticRoutes.map(o=>({regexp:new RegExp(o.namedRegex),page:o.page})),r=e.dynamicRoutes?.map(o=>({regexp:new RegExp(o.namedRegex),page:o.page}))||[];return async function(o,x){let y=new URL(o.url).pathname,b={};if(e.nextConfig?.basePath&&y.startsWith(e.nextConfig.basePath)&&(y=y.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let N of e.nextConfig.i18n.locales){let v=new RegExp(`^/${N}($|/)`,"i");if(y.match(v)){y=y.replace(v,"/")||"/";break}}for(let N of g)if(N.regexp.exec(y)){b.name=N.page;break}if(!b.name){let N=s(y);for(let v of r||[]){if(N&&!s(v.page))continue;let O=v.regexp.exec(y);if(O){b={name:v.page,params:O.groups};break}}}let A=await C._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:o.url,method:o.method,headers:l(o.headers),ip:k(o.headers,h.Ip),geo:{city:k(o.headers,h.City,!0),country:k(o.headers,h.Country,!0),latitude:k(o.headers,h.Latitude),longitude:k(o.headers,h.Longitude),region:k(o.headers,h.Region,!0)},nextConfig:e.nextConfig,page:b,body:o.body}});return x.waitUntil(A.waitUntil),A.response}}function k(e,g,r=!1){let o=e.get(g)||void 0;return r&&o?decodeURIComponent(o):o}function s(e){return e==="/api"||e.startsWith("/api/")}var h;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(h||(h={}))}(E,E.exports),E.exports}.call({}).default({name:"app/(default)/api/registration/recruitment/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/achievements",regex:"^/achievements(?:/)?$",routeKeys:{},namedRegex:"^/achievements(?:/)?$"},{page:"/events",regex:"^/events(?:/)?$",routeKeys:{},namedRegex:"^/events(?:/)?$"},{page:"/leads",regex:"^/leads(?:/)?$",routeKeys:{},namedRegex:"^/leads(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"},{page:"/members",regex:"^/members(?:/)?$",routeKeys:{},namedRegex:"^/members(?:/)?$"},{page:"/pbctf",regex:"^/pbctf(?:/)?$",routeKeys:{},namedRegex:"^/pbctf(?:/)?$"},{page:"/recruitment",regex:"^/recruitment(?:/)?$",routeKeys:{},namedRegex:"^/recruitment(?:/)?$"},{page:"/sihregistration",regex:"^/sihregistration(?:/)?$",routeKeys:{},namedRegex:"^/sihregistration(?:/)?$"}],dynamicRoutes:[],nextConfig:{basePath:""}})))(m,m,m);export{xt as default};
